[package]
name = "libs"
version = { workspace = true }
edition = { workspace = true }

[dependencies]
icicle-runtime = { workspace = true }
icicle-core = { workspace = true }
icicle-bls12-381 = { workspace = true }
icicle-hash = { workspace = true }
serde = { workspace = true }
serde_json = { workspace = true }
byteorder = { workspace = true }
num-bigint = { workspace = true }
num-traits = { workspace = true }
rayon = { workspace = true }
criterion = "0.3"
hex = "0.4.3"
ark-bls12-381 = { workspace = true }
ark-ec = { workspace = true }
ark-ff = { workspace = true }
ark-serialize = "0.5"
rand = { workspace = true }

[[bench]]
name = "outer_product_bench"
harness = false

[features]
default = []
testing-mode = []

# ğŸš€ ì»´íŒŒì¼ëŸ¬ ìµœì í™” ì„¤ì •
[profile.release]
opt-level = 3                    # ìµœê³  ìˆ˜ì¤€ ìµœì í™”
lto = "fat"                      # Link Time Optimization
codegen-units = 1               # ë‹¨ì¼ ì½”ë“œ ìƒì„± ë‹¨ìœ„ (LTO ìµœì í™”)
panic = "abort"                 # íŒ¨ë‹‰ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨
strip = true                    # ë””ë²„ê·¸ ì‹¬ë³¼ ì œê±°
overflow-checks = false         # ì˜¤ë²„í”Œë¡œìš° ì²´í¬ ë¹„í™œì„±í™”
debug = false                   # ë””ë²„ê·¸ ì •ë³´ ì œê±°

# ğŸš€ ì¶”ê°€ ìµœì í™” í”Œë˜ê·¸
[profile.release.build-override]
opt-level = 3
codegen-units = 1

# ğŸš€ PGO ì„¤ì • (Profile-Guided Optimization)
[profile.release.package."*"]
opt-level = 3