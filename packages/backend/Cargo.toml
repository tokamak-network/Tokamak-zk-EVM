[workspace]
members = [
    "libs",
    "setup/trusted-setup",
    "setup/mpc-setup",
    "prove",
    "verify/verify-rust",
    "verify/preprocess"
]

[workspace.package]
edition = "2021"
version = "0.1.0"

[workspace.dependencies]
icicle-runtime = { git = "https://github.com/ingonyama-zk/icicle.git", tag = "v3.8.0", package = "icicle-runtime" }
icicle-core = { git = "https://github.com/ingonyama-zk/icicle.git", tag = "v3.8.0", package = "icicle-core" }
icicle-hash = { git = "https://github.com/ingonyama-zk/icicle.git", tag = "v3.8.0", package = "icicle-hash" }
icicle-bls12-381 = { git = "https://github.com/ingonyama-zk/icicle.git", tag = "v3.8.0", package = "icicle-bls12-381"}
ark-bls12-381 = "0.5.0"
ark-ec = "0.5.0"
ark-ff = "0.5.0"
libs = { path = "libs" }
prove = { path = "prove" }
verify = { path = "verify/verify-rust" }
preprocess = { path = "verify/preprocess" }
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
byteorder = "1.4"
num-bigint = "0.4"
num-traits = "0.2"
rayon = "1.7"
rand = "0.8"
bincode = "1.3"
hex = "0.4"

# ğŸš€ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì „ì²´ ìµœì í™” ì„¤ì •
[profile.release]
opt-level = 3                    # ìµœê³  ìˆ˜ì¤€ ìµœì í™”
lto = "fat"                      # Link Time Optimization
codegen-units = 1               # ë‹¨ì¼ ì½”ë“œ ìƒì„± ë‹¨ìœ„ (LTO ìµœì í™”)
panic = "abort"                 # íŒ¨ë‹‰ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨
strip = true                    # ë””ë²„ê·¸ ì‹¬ë³¼ ì œê±°
overflow-checks = false         # ì˜¤ë²„í”Œë¡œìš° ì²´í¬ ë¹„í™œì„±í™”
debug = false                   # ë””ë²„ê·¸ ì •ë³´ ì œê±°

# ğŸš€ ì¶”ê°€ ìµœì í™” í”Œë˜ê·¸
[profile.release.build-override]
opt-level = 3
codegen-units = 1

# ğŸš€ PGO ì„¤ì • (Profile-Guided Optimization)
[profile.release.package."*"]
opt-level = 3

# ğŸš€ ICICLE ë¼ì´ë¸ŒëŸ¬ë¦¬ íŠ¹í™” ìµœì í™”
[profile.release.package.icicle-runtime]
opt-level = 3
codegen-units = 1
debug = false

[profile.release.package.icicle-core]
opt-level = 3
codegen-units = 1
debug = false

[profile.release.package.icicle-hash]
opt-level = 3
codegen-units = 1
debug = false

[profile.release.package.icicle-bls12-381]
opt-level = 3
codegen-units = 1
debug = false

# ğŸš€ libs ìµœì í™”
[profile.release.package.libs]
opt-level = 3
codegen-units = 1
debug = false

# ğŸš€ prove ìµœì í™”
[profile.release.package.prove]
opt-level = 3
codegen-units = 1
debug = false

# ğŸš€ verify ìµœì í™”
[profile.release.package.verify]
opt-level = 3
codegen-units = 1
debug = false

# ğŸš€ preprocess ìµœì í™”
[profile.release.package.preprocess]
opt-level = 3
codegen-units = 1
debug = false